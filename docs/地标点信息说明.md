# 📍 训练的9个地标点信息

## ✅ 确认的9个地标点

根据代码和数据文件，模型训练的是以下**9个解剖学地标点**：

| 序号 | 地标点名称 | 英文名称 | 中文名称 | 说明 |
|------|-----------|---------|---------|------|
| 1 | **Glabella** | Glabella | 眉间 | 前额中央最突出的点 |
| 2 | **Nasion** | Nasion | 鼻根 | 鼻梁与额骨的交界处 |
| 3 | **Rhinion** | Rhinion | 鼻尖 | 鼻子的最前端 |
| 4 | **Nasal Tip** | Nasal Tip | 鼻尖（另一种定义） | 鼻子的尖端 |
| 5 | **Subnasale** | Subnasale | 鼻下点 | 鼻底与上唇的交界处 |
| 6 | **Alare (R)** | Alare (Right) | 右鼻翼 | 右侧鼻翼最外侧点 |
| 7 | **Alare (L)** | Alare (Left) | 左鼻翼 | 左侧鼻翼最外侧点 |
| 8 | **Zygion (R)** | Zygion (Right) | 右颧骨点 | 右侧颧骨最外侧点 |
| 9 | **Zygion (L)** | Zygion (Left) | 左颧骨点 | 左侧颧骨最外侧点 |

---

## 📊 数据来源

### 原始数据格式

数据文件 `nose_landmarks.csv` 包含**21个地标点**：
- **前12个点**：编号型地标点（037-048）
- **后9个点**：解剖学地标点（即训练使用的9个点）

### 数据提取过程

在 `create_labels_from_npy.py` 中：
```python
if landmarks.shape == (21, 3):
    # 提取后9个解剖学地标点
    target_landmarks = landmarks[-9:]  # 索引12-20
```

---

## 🎯 训练目标

模型需要从完整点云中预测这9个地标点的3D坐标，每个点有 (x, y, z) 三个坐标，共27维输出。

---

## 📈 当前性能（测试集）

根据最新评估结果：

| 地标点 | 3D RMSE | 精度@2mm | 精度@5mm | 状态 |
|--------|---------|----------|----------|------|
| Glabella (点1) | 9.72mm | 0% | 15% | ❌ 需改进 |
| Nasion (点2) | 8.37mm | 0% | 25% | ❌ 需改进 |
| Rhinion (点3) | 5.76mm | 5% | 50% | ❌ 需改进 |
| Nasal Tip (点4) | 8.13mm | 0% | 35% | ❌ 需改进 |
| Subnasale (点5) | 6.49mm | 0% | 50% | ❌ 需改进 |
| Alare (R) (点6) | 6.32mm | 5% | 45% | ❌ 需改进 |
| Alare (L) (点7) | 5.88mm | 5% | 40% | ❌ 需改进 |
| Zygion (R) (点8) | 16.53mm | 0% | 5% | ❌ 需改进 |
| Zygion (L) (点9) | 15.05mm | 0% | 15% | ❌ 需改进 |

**平均精度 @ 2mm: 1.67%**（远低于目标）

---

## ⚠️ 关键发现

### 1. **Zygion点（点8和点9）误差最大**
- Zygion (R): 16.53mm RMSE
- Zygion (L): 15.05mm RMSE
- X轴误差特别大（12.93mm和12.49mm）

**可能原因**：
- 颧骨点在点云中可能不够明显
- 标注可能不够准确
- 需要更多训练数据

### 2. **Rhinion和Alare点表现最好**
- Rhinion (点3): 5.76mm RMSE
- Alare (L) (点7): 5.88mm RMSE
- 这些点在点云中可能更容易识别

---

## 📝 总结

**训练的9个地标点**：
1. ✅ Glabella（眉间）
2. ✅ Nasion（鼻根）
3. ✅ Rhinion（鼻尖）
4. ✅ Nasal Tip（鼻尖）
5. ✅ Subnasale（鼻下点）
6. ✅ Alare (R)（右鼻翼）
7. ✅ Alare (L)（左鼻翼）
8. ✅ Zygion (R)（右颧骨点）
9. ✅ Zygion (L)（左颧骨点）

**与您提到的点对比**：
- ✅ Glabella - 匹配
- ✅ Nasion - 匹配
- ✅ Rhinion - 匹配
- ✅ Nasal - 可能是 Nasal Tip
- ✅ Subnasale - 匹配
- ✅ Alare - 匹配（左右两个）
- ✅ Zygion - 匹配（左右两个）

**注意**：数据中同时包含 "Rhinion" 和 "Nasal Tip"，两者都用于训练。
